import streamlit as st
import pandas as pd

# 1. уГЪуГ╝уВ╕шинхоЪ
st.set_page_config(page_title="хнжхМ║уГ╗цХЩшВ▓чТ░хвГуВмуВдуГЙ", layout="wide")

# CSS: уБпуБгуБНуВКуБЧуБЯшЙ▓хИЖуБСуБихЫ║хоЪуГЗуВ╢уВдуГ│
st.markdown("""
    <style>
    header { visibility: hidden; }
    .block-container { padding-top: 1rem !important; max-height: 100vh; overflow: hidden; }
    
    .main-header { 
        font-size: 22px; font-weight: bold; color: #1a365d; 
        text-align: center; border-bottom: 3px solid #3498db;
        padding-bottom: 5px; margin-bottom: 15px; 
    }

    /* уВлуГЖуВ┤уГкщБ╕цКЮуГЬуВ┐уГ│уВТхдзуБНуБПх╝╖шк┐ */
    div.stRadio > div {
        display: flex;
        justify-content: space-around;
        background-color: #f0f2f6;
        padding: 10px;
        border-radius: 15px;
    }
    
    /* чФ╖хнРцабуГ╗хе│хнРцабуГ╗хЕ▒хнжуБоцЦЗхнЧуВ╡уВдуВ║шк┐цХ┤ */
    div.stRadio label {
        font-size: 20px !important;
        font-weight: bold !important;
    }
    </style>
""", unsafe_allow_html=True)

st.markdown('<div class="main-header">ЁЯПл хнжхМ║уГ╗цХЩшВ▓чТ░хвГуВмуВдуГЙ</div>', unsafe_allow_html=True)

# уГЗуГ╝уВ┐уБохоЪч╛й
school_data = [
    {"хнжцабхРН": "щЦЛцИРф╕нхнжцаб", "цЙАхЬихЬ░": "шНТх╖ЭхМ║", "хБПх╖охАд": 72, "уВлуГЖуВ┤уГк": "чФ╖хнРцаб", "цЬАхпДуВК": "ше┐цЧецЪощЗМ"},
    {"хнжцабхРН": "щ║╗х╕Гф╕нхнжцаб", "цЙАхЬихЬ░": "ц╕пхМ║", "хБПх╖охАд": 68, "уВлуГЖуВ┤уГк": "чФ╖хнРцаб", "цЬАхпДуВК": "х║Гх░╛"},
    {"хнжцабхРН": "щзТха┤цЭ▒щВжф╕нхнжцаб", "цЙАхЬихЬ░": "ф╕ЦчФ░ш░╖хМ║", "хБПх╖охАд": 67, "уВлуГЖуВ┤уГк": "чФ╖хнРцаб", "цЬАхпДуВК": "щзТха┤цЭ▒хдзхЙН"},
    {"хнжцабхРН": "цнжшФ╡ф╕нхнжцаб", "цЙАхЬихЬ░": "ч╖┤щжмхМ║", "хБПх╖охАд": 65, "уВлуГЖуВ┤уГк": "чФ╖хнРцаб", "цЬАхпДуВК": "ц▒ЯхПдчФ░"},
    {"хнжцабхРН": "ц╡╖хЯОф╕нхнжцаб", "цЙАхЬихЬ░": "цЦ░хо┐хМ║", "хБПх╖охАд": 64, "уВлуГЖуВ┤уГк": "чФ╖хнРцаб", "цЬАхпДуВК": "цЦ░хдзф╣Еф┐Э"},
    {"хнжцабхРН": "цЧйчи▓чФ░ф╕нхнжцаб", "цЙАхЬихЬ░": "цЦ░хо┐хМ║", "хБПх╖охАд": 64, "уВлуГЖуВ┤уГк": "чФ╖хнРцаб", "цЬАхпДуВК": "цЧйчи▓чФ░"},
    {"хнжцабхРН": "цЬмщГ╖ф╕нхнжцаб", "цЙАхЬихЬ░": "ш▒Кх│╢хМ║", "хБПх╖охАд": 60, "уВлуГЖуВ┤уГк": "чФ╖хнРцаб", "цЬАхпДуВК": "х╖гщ┤и"},
    {"хнжцабхРН": "цбЬшФнф╕нхнжцаб", "цЙАхЬихЬ░": "цЦЗф║мхМ║", "хБПх╖охАд": 71, "уВлуГЖуВ┤уГк": "хе│хнРцаб", "цЬАхпДуВК": "ц░┤щБУцйЛ"},
    {"хнжцабхРН": "хе│хнРхнжщЩвф╕нхнжцаб", "цЙАхЬихЬ░": "хНГф╗гчФ░хМ║", "хБПх╖охАд": 69, "уВлуГЖуВ┤уГк": "хе│хнРцаб", "цЬАхпДуВК": "х╕ВуГ╢ш░╖"},
    {"хнжцабхРН": "ш▒Кх│╢х▓бхе│хнРхнжхЬТ", "цЙАхЬихЬ░": "ш▒Кх│╢хМ║", "хБПх╖охАд": 68, "уВлуГЖуВ┤уГк": "хе│хнРцаб", "цЬАхпДуВК": "ц▒ашвЛ"},
    {"хнжцабхРН": "щЫЩшСЙф╕нхнжцаб", "цЙАхЬихЬ░": "хНГф╗гчФ░хМ║", "хБПх╖охАд": 67, "уВлуГЖуВ┤уГк": "хе│хнРцаб", "цЬАхпДуВК": "хЫЫуГДш░╖"},
    {"хнжцабхРН": "хРЙчеехе│хнРф╕нхнжцаб", "цЙАхЬихЬ░": "цнжшФ╡щЗОх╕В", "хБПх╖охАд": 63, "уВлуГЖуВ┤уГк": "хе│хнРцаб", "цЬАхпДуВК": "хРЙчеехп║"},
    {"хнжцабхРН": "щ┤ОхПЛхнжхЬТхе│хнР", "цЙАхЬихЬ░": "ф╕ЦчФ░ш░╖хМ║", "хБПх╖охАд": 62, "уВлуГЖуВ┤уГк": "хе│хнРцаб", "цЬАхпДуВК": "хооуБохЭВ"},
    {"хнжцабхРН": "ц╕Лш░╖цХЩшВ▓хнжхЬТц╕Лш░╖", "цЙАхЬихЬ░": "ц╕Лш░╖хМ║", "хБПх╖охАд": 70, "уВлуГЖуВ┤уГк": "хЕ▒хнж", "цЬАхпДуВК": "ц╕Лш░╖"},
    {"хнжцабхРН": "чнСц│вхдзхнжщЩДх▒Ю", "цЙАхЬихЬ░": "цЦЗф║мхМ║", "хБПх╖охАд": 69, "уВлуГЖуВ┤уГк": "хЕ▒хнж", "цЬАхпДуВК": "шн╖хЫ╜хп║"},
    {"хнжцабхРН": "х║Гх░╛хнжхЬТ", "цЙАхЬихЬ░": "ц╕пхМ║", "хБПх╖охАд": 66, "уВлуГЖуВ┤уГк": "хЕ▒хнж", "цЬАхпДуВК": "х║Гх░╛"},
    {"хнжцабхРН": "цЧйчи▓чФ░хоЯценхнжцаб", "цЙАхЬихЬ░": "хЫ╜хИЖхп║х╕В", "хБПх╖охАд": 65, "уВлуГЖуВ┤уГк": "хЕ▒хнж", "цЬАхпДуВК": "хЫ╜хИЖхп║"},
    {"хнжцабхРН": "цЕ╢цЗЙч╛йхб╛ф╕нчнЙщГи", "цЙАхЬихЬ░": "ц╕пхМ║", "хБПх╖охАд": 65, "уВлуГЖуВ┤уГк": "хЕ▒хнж", "цЬАхпДуВК": "ф╕ЙчФ░"},
    {"хнжцабхРН": "ф╕ЙчФ░хЫ╜щЪЫхнжхЬТ", "цЙАхЬихЬ░": "ф╕ЦчФ░ш░╖хМ║", "хБПх╖охАд": 61, "уВлуГЖуВ┤уГк": "хЕ▒хнж", "цЬАхпДуВК": "чФиш│А"},
]

# уГбуВдуГ│уГбуГЛуГеуГ╝я╝ИуВ┐уГЦуВТхдзуБНуБПя╝Й
tab_choice = st.radio("шбичд║уГбуГЛуГеуГ╝уВТщБ╕цКЮ", ["ЁЯОУ чзБчлЛф╕нхнжуВТцОвуБЩ", "ЁЯз╕ хСиш╛║уГ╗шЗкц▓╗ф╜УцГЕха▒уВТуБ┐уВЛ"], horizontal=True, label_visibility="collapsed")

if "чзБчлЛф╕нхнж" in tab_choice:
    # чФ╖хнРуГ╗хе│хнРуГ╗хЕ▒хнжуБохИЗуВКцЫ┐уБИуВТуВИуВКцШОчв║уБл
    category = st.radio("хнжцабхМ║хИЖ", ["чФ╖хнРцаб", "хе│хнРцаб", "хЕ▒хнж"], horizontal=True)
    
    df = pd.DataFrame(school_data)
    filtered_df = df[df["уВлуГЖуВ┤уГк"] == category].sort_values("хБПх╖охАд", ascending=False)
    
    # уВлуГЖуВ┤уГкуБлх┐ЬуБШуБЯуВвуВпуВ╗уГ│уГИуВлуГйуГ╝уВТшинхоЪ
    color = "#3498db" if category == "чФ╖хнРцаб" else "#e91e63" if category == "хе│хнРцаб" else "#9b59b6"
    st.markdown(f'<div style="border-left: 5px solid {color}; padding-left: 10px; font-weight: bold; margin-bottom: 10px;">{category} щЫгщЦвцабуГкуВ╣уГИя╝ИхБПх╖охАдщаЖя╝Й</div>', unsafe_allow_html=True)
    
    st.dataframe(filtered_df[["хнжцабхРН", "хБПх╖охАд", "цЙАхЬихЬ░", "цЬАхпДуВК"]], use_container_width=True, hide_index=True, height=450)

else:
    # хСиш╛║уГ╗шЗкц▓╗ф╜УцГЕха▒уВТуВ│уГ│уГСуВпуГИуБлщЫЖч┤Д
    st.subheader("хСиш╛║чТ░хвГ & 23хМ║цФпцП┤цпФш╝Г")
    address = st.text_input("чЙйф╗╢ф╜ПцЙАуВТхЕехКЫ", placeholder="ф╛Ля╝Ъц╕пхМ║хНЧщ║╗х╕Г")
    
    col1, col2 = st.columns(2)
    with col1:
        st.write("**уАРхСиш╛║уБохнРшВ▓уБжцЦ╜шинуАС**")
        st.caption("тА╗ф╜ПцЙАхЕехКЫуБзшбичд║")
        if address:
            st.write("тЬЕ хЕмхЬТя╝Ъ4чоЗцЙА")
            st.write("тЬЕ х░ПхЕРчзСя╝Ъ3чоЗцЙА")
    with col2:
        st.write("**уАР23хМ║ цФпцП┤чК╢ц│БуАС**")
        st.write("уГ╗ч╡жщгЯш▓╗я╝ЪуБ╗уБ╝хЕихМ║чДбхДЯ")
        st.write("уГ╗хМ╗чЩВш▓╗я╝Ъ18цн│уБ╛уБзчДбцЦЩ")
    
    st.markdown("---")
    st.table(pd.DataFrame({
        "хМ║": ["цЦЗф║мхМ║", "ц╕пхМ║", "шСЫщг╛хМ║"],
        "чЙ╣х╛┤": ["цЦЗцХЩхЬ░хМ║", "цЙЛх╜УхЕЕхоЯ", "ч╡жщгЯчДбхДЯ"],
        "чеЭщЗС": ["уБВуВК", "цЬАхдз60ф╕З", "5ф╕ЗхЖЖ"]
    }))

st.markdown('<p style="font-size:10px; color:gray; text-align:center; position: fixed; bottom: 0; width: 100%;">тА╗хБПх╖охАдуБпчЫохоЙуБзуБЩуАВ1чФ╗щЭвхЫ║хоЪуГЗуВ╢уВдуГ│</p>', unsafe_allow_html=True)
