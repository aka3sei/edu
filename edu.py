import streamlit as st
import pandas as pd

# уГЪуГ╝уВ╕шинхоЪ
st.set_page_config(page_title="хнжхМ║уГ╗цХЩшВ▓чТ░хвГуВмуВдуГЙ", layout="wide")

st.markdown("""
    <style>
    header { visibility: hidden; }
    .block-container { padding-top: 1rem !important; max-height: 100vh; overflow: hidden; }
    
    .main-header { 
        font-size: 22px; font-weight: bold; color: #1a365d; 
        text-align: center; border-bottom: 3px solid #3498db;
        padding-bottom: 5px; margin-bottom: 15px; 
    }

    /* уГйуВ╕уВкуГЬуВ┐уГ│уВТуВ┐уГЦуБоуВИуБЖуБлхдзуБНуБП */
    div.stRadio > div {
        display: flex; justify-content: space-around;
        background-color: #f0f2f6; padding: 8px; border-radius: 12px;
    }
    
    /* щаЖф╜НуГРуГГуВ╕уБошгЕщг╛ */
    .rank-text { font-weight: bold; color: #1a365d; }
    </style>
""", unsafe_allow_html=True)

st.markdown('<div class="main-header">ЁЯПл хнжхМ║уГ╗цХЩшВ▓чТ░хвГуВмуВдуГЙ</div>', unsafe_allow_html=True)

# 7цабуБЪуБдуБлцПГуБИуБЯцЬАцЦ░уГЗуГ╝уВ┐
school_data = [
    # --- чФ╖хнРцаб (7цаб) ---
    {"щаЖф╜Н": 1, "хнжцабхРН": "щЦЛцИРф╕нхнжцаб", "хБПх╖охАд": 72, "уВлуГЖуВ┤уГк": "чФ╖хнРцаб", "цЙАхЬихЬ░": "шНТх╖ЭхМ║", "цЬАхпДуВК": "ше┐цЧецЪощЗМ"},
    {"щаЖф╜Н": 2, "хнжцабхРН": "щ║╗х╕Гф╕нхнжцаб", "хБПх╖охАд": 68, "уВлуГЖуВ┤уГк": "чФ╖хнРцаб", "цЙАхЬихЬ░": "ц╕пхМ║", "цЬАхпДуВК": "х║Гх░╛"},
    {"щаЖф╜Н": 3, "хнжцабхРН": "щзТха┤цЭ▒щВжф╕нхнжцаб", "хБПх╖охАд": 67, "уВлуГЖуВ┤уГк": "чФ╖хнРцаб", "цЙАхЬихЬ░": "ф╕ЦчФ░ш░╖хМ║", "цЬАхпДуВК": "щзТха┤цЭ▒хдзхЙН"},
    {"щаЖф╜Н": 4, "хнжцабхРН": "цнжшФ╡ф╕нхнжцаб", "хБПх╖охАд": 65, "уВлуГЖуВ┤уГк": "чФ╖хнРцаб", "цЙАхЬихЬ░": "ч╖┤щжмхМ║", "цЬАхпДуВК": "ц▒ЯхПдчФ░"},
    {"щаЖф╜Н": 5, "хнжцабхРН": "ц╡╖хЯОф╕нхнжцаб", "хБПх╖охАд": 64, "уВлуГЖуВ┤уГк": "чФ╖хнРцаб", "цЙАхЬихЬ░": "цЦ░хо┐хМ║", "цЬАхпДуВК": "цЦ░хдзф╣Еф┐Э"},
    {"щаЖф╜Н": 6, "хнжцабхРН": "цЧйчи▓чФ░ф╕нхнжцаб", "хБПх╖охАд": 64, "уВлуГЖуВ┤уГк": "чФ╖хнРцаб", "цЙАхЬихЬ░": "цЦ░хо┐хМ║", "цЬАхпДуВК": "цЧйчи▓чФ░"},
    {"щаЖф╜Н": 7, "хнжцабхРН": "цЬмщГ╖ф╕нхнжцаб", "хБПх╖охАд": 60, "уВлуГЖуВ┤уГк": "чФ╖хнРцаб", "цЙАхЬихЬ░": "ш▒Кх│╢хМ║", "цЬАхпДуВК": "х╖гщ┤и"},

    # --- хе│хнРцаб (7цаб) ---
    {"щаЖф╜Н": 1, "хнжцабхРН": "цбЬшФнф╕нхнжцаб", "хБПх╖охАд": 71, "уВлуГЖуВ┤уГк": "хе│хнРцаб", "цЙАхЬихЬ░": "цЦЗф║мхМ║", "цЬАхпДуВК": "ц░┤щБУцйЛ"},
    {"щаЖф╜Н": 2, "хнжцабхРН": "хе│хнРхнжщЩвф╕нхнжцаб", "хБПх╖охАд": 69, "уВлуГЖуВ┤уГк": "хе│хнРцаб", "цЙАхЬихЬ░": "хНГф╗гчФ░хМ║", "цЬАхпДуВК": "х╕ВуГ╢ш░╖"},
    {"щаЖф╜Н": 3, "хнжцабхРН": "ш▒Кх│╢х▓бхе│хнРхнжхЬТ", "хБПх╖охАд": 68, "уВлуГЖуВ┤уГк": "хе│хнРцаб", "цЙАхЬихЬ░": "ш▒Кх│╢хМ║", "цЬАхпДуВК": "ц▒ашвЛ"},
    {"щаЖф╜Н": 4, "хнжцабхРН": "щЫЩшСЙф╕нхнжцаб", "хБПх╖охАд": 67, "уВлуГЖуВ┤уГк": "хе│хнРцаб", "цЙАхЬихЬ░": "хНГф╗гчФ░хМ║", "цЬАхпДуВК": "хЫЫуГДш░╖"},
    {"щаЖф╜Н": 5, "хнжцабхРН": "чЩ╜чЩ╛хРИхнжхЬТ", "хБПх╖охАд": 64, "уВлуГЖуВ┤уГк": "хе│хнРцаб", "цЙАхЬихЬ░": "хНГф╗гчФ░хМ║", "цЬАхпДуВК": "ф╣Эцо╡ф╕Л"},
    {"щаЖф╜Н": 6, "хнжцабхРН": "хРЙчеехе│хнРф╕нхнжцаб", "хБПх╖охАд": 63, "уВлуГЖуВ┤уГк": "хе│хнРцаб", "цЙАхЬихЬ░": "цнжшФ╡щЗОх╕В", "цЬАхпДуВК": "хРЙчеехп║"},
    {"щаЖф╜Н": 7, "хнжцабхРН": "щ┤ОхПЛхнжхЬТхе│хнР", "хБПх╖охАд": 62, "уВлуГЖуВ┤уГк": "хе│хнРцаб", "цЙАхЬихЬ░": "ф╕ЦчФ░ш░╖хМ║", "цЬАхпДуВК": "хооуБохЭВ"},

    # --- хЕ▒хнж (7цаб) ---
    {"щаЖф╜Н": 1, "хнжцабхРН": "ц╕Лш░╖цХЩшВ▓хнжхЬТц╕Лш░╖", "хБПх╖охАд": 70, "уВлуГЖуВ┤уГк": "хЕ▒хнж", "цЙАхЬихЬ░": "ц╕Лш░╖хМ║", "цЬАхпДуВК": "ц╕Лш░╖"},
    {"щаЖф╜Н": 2, "хнжцабхРН": "чнСц│вхдзхнжщЩДх▒Ю", "хБПх╖охАд": 69, "уВлуГЖуВ┤уГк": "хЕ▒хнж", "цЙАхЬихЬ░": "цЦЗф║мхМ║", "цЬАхпДуВК": "шн╖хЫ╜хп║"},
    {"щаЖф╜Н": 3, "хнжцабхРН": "х║Гх░╛хнжхЬТ", "хБПх╖охАд": 66, "уВлуГЖуВ┤уГк": "хЕ▒хнж", "цЙАхЬихЬ░": "ц╕пхМ║", "цЬАхпДуВК": "х║Гх░╛"},
    {"щаЖф╜Н": 4, "хнжцабхРН": "цЕ╢цЗЙч╛йхб╛ф╕нчнЙщГи", "хБПх╖охАд": 65, "уВлуГЖуВ┤уГк": "хЕ▒хнж", "цЙАхЬихЬ░": "ц╕пхМ║", "цЬАхпДуВК": "ф╕ЙчФ░"},
    {"щаЖф╜Н": 5, "хнжцабхРН": "цЧйчи▓чФ░хоЯценхнжцаб", "хБПх╖охАд": 65, "уВлуГЖуВ┤уГк": "хЕ▒хнж", "цЙАхЬихЬ░": "хЫ╜хИЖхп║х╕В", "цЬАхпДуВК": "хЫ╜хИЖхп║"},
    {"щаЖф╜Н": 6, "хнжцабхРН": "шКЭц╡жх╖еценхдзхнжщЩДх▒Ю", "хБПх╖охАд": 62, "уВлуГЖуВ┤уГк": "хЕ▒хнж", "цЙАхЬихЬ░": "ц▒ЯцЭ▒хМ║", "цЬАхпДуВК": "ш▒Кц┤▓"},
    {"щаЖф╜Н": 7, "хнжцабхРН": "ф╕ЙчФ░хЫ╜щЪЫхнжхЬТ", "хБПх╖охАд": 61, "уВлуГЖуВ┤уГк": "хЕ▒хнж", "цЙАхЬихЬ░": "ф╕ЦчФ░ш░╖хМ║", "цЬАхпДуВК": "чФиш│А"},
]

# уГбуВдуГ│уГбуГЛуГеуГ╝
tab_choice = st.radio("уГбуГЛуГеуГ╝", ["ЁЯОУ щЫгщЦвчзБчлЛф╕нхнжуГкуВ╣уГИ", "ЁЯУИ шЗкц▓╗ф╜УуГ╗цХЩшВ▓цпФш╝Г"], horizontal=True, label_visibility="collapsed")

if "чзБчлЛф╕нхнж" in tab_choice:
    # хМ║хИЖщБ╕цКЮ
    category = st.radio("хнжцабхМ║хИЖя╝ИуВ┐уГГуГЧуБзхИЗуВКцЫ┐уБИя╝Й", ["чФ╖хнРцаб", "хе│хнРцаб", "хЕ▒хнж"], horizontal=True)
    
    # уГХуВгуГлуВ┐уГкуГ│уВ░
    df = pd.DataFrame(school_data)
    filtered_df = df[df["уВлуГЖуВ┤уГк"] == category].sort_values("щаЖф╜Н")

    # уГШуГГуГАуГ╝уБошЙ▓хИЖуБС
    color = "#3498db" if category == "чФ╖хнРцаб" else "#e91e63" if category == "хе│хнРцаб" else "#9b59b6"
    st.markdown(f"""
        <div style="background-color: {color}; color: white; padding: 10px; border-radius: 10px 10px 0 0; font-weight: bold; text-align: center;">
            {category} щЫгщЦвцабуГйуГ│уВнуГ│уВ░ TOP 7
        </div>
    """, unsafe_allow_html=True)

    # уГкуВ╣уГИшбичд║
    st.dataframe(
        filtered_df[["щаЖф╜Н", "хнжцабхРН", "хБПх╖охАд", "цЙАхЬихЬ░", "цЬАхпДуВК"]], 
        use_container_width=True, 
        hide_index=True, 
        height=420
    )

else:
    # шЗкц▓╗ф╜УцпФш╝Г
    st.subheader("ф╕╗шжБуВиуГкуВв хнРшВ▓уБжуГ╗цХЩшВ▓цФпцП┤цпФш╝Г")
    st.table(pd.DataFrame({
        "хМ║": ["цЦЗф║мхМ║", "ц╕пхМ║", "ф╕ЦчФ░ш░╖хМ║", "шСЫщг╛хМ║"],
        "цХЩшВ▓уБочЙ╣шЙ▓": ["хЫ╜члЛуГ╗чзБчлЛх┐ЧхРСуБМце╡уВБуБжщлШуБД", "хЫ╜щЪЫцХЩшВ▓уГ╗ICTц┤╗чФицОищА▓", "хЕмчлЛх░ПуБоцХЩшВ▓ц░┤ц║ЦуБМхоЙхоЪ", "ч╡жщгЯш▓╗хоМхЕичДбхДЯуГ╗ICTхМЦ"],
        "чЛмшЗкцФпцП┤": ["цХЩшВ▓чЫ╕шлЗуБМхЕЕхоЯ", "хЗ║чФгш▓╗чФихКйцИР(цЬАхдз60ф╕З)", "хЕРчлещдиуГ╗щБКуБ│ха┤уБМш▒КхпМ", "х░Пф╕нхнжцабуБоцФ╣чпЙуГ╗шАРщЬЗхМЦ"]
    }))

st.markdown('<p style="font-size:10px; color:gray; text-align:center;">тА╗хБПх╖охАдуБпчЫохоЙуБзуБЩуАВхнжцабхМ║хИЖуБФуБиуБлTOP7уВТцО▓ш╝Йф╕н</p>', unsafe_allow_html=True)
